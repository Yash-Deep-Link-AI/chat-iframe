window.onload=function(){let e=document.getElementById("botScript"),t='\n<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="#FFFFFF" width="24" height="24">\n<path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 011.037-.443 48.282 48.282 0 005.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0012 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018z" />\n</svg>\n\n',n=document.createElement("div");n.setAttribute("id","chatbase-bubble-button"),n.style.position="fixed",n.style.bottom="20px",n.style.right="20px",n.style.width="50px",n.style.height="50px",n.style.borderRadius="25px",n.style.backgroundColor="black",n.style.boxShadow="0 4px 8px 0 rgba(0, 0, 0, 0.2)",n.style.cursor="pointer",n.style.zIndex=999999999,n.style.transition="all .2s ease-in-out",n.addEventListener("mouseenter",e=>{n.style.transform="scale(1.05)"}),n.addEventListener("mouseleave",e=>{n.style.transform="scale(1)"});let s=document.createElement("div");s.style.display="flex",s.style.alignItems="center",s.style.justifyContent="center",s.style.width="100%",s.style.height="100%",s.style.zIndex=999999999,s.innerHTML=t,n.appendChild(s),n.addEventListener("click",()=>{"none"===l.style.display?(l.style.display="flex",s.innerHTML='\n<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="#FFFFFF" width="24" height="24">\n  <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />\n</svg>\n'):(l.style.display="none",s.innerHTML=t)});let l=document.createElement("div");l.setAttribute("id","chatbase-bubble-window"),l.style.position="fixed",l.style.flexDirection="column",l.style.justifyContent="space-between",l.style.bottom="80px",l.style.right="20px",l.style.width="85vw",l.style.height="70vh",l.style.boxShadow="rgba(150, 150, 150, 0.15) 0px 6px 24px 0px, rgba(150, 150, 150, 0.15) 0px 0px 0px 1px",l.style.display="none",l.style.borderRadius="10px",l.style.zIndex=999999999,l.style.overflow="hidden",document.body.appendChild(l),l.innerHTML=`<iframe
src="http://localhost:4200/chat-iframe?botId=${e.getAttribute("botid")}"
width="100%"
height="100%"
frameborder="0"
></iframe>`;let i=window.matchMedia("(min-width: 550px)");function o(e){e.matches&&(l.style.height="600px",l.style.width="400px")}i.addEventListener("change",o),o(i);let $=async()=>{let t=await fetch(`https://www.chatbase.co/api/get-chatbot-button-color?chatbotId=${e?.id}`,{method:"GET",headers:{"Content-Type":"application/json"}}),s=await t.json();n.style.backgroundColor=s.color||"black",document.body.appendChild(n)};$()};